<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:131.0) Gecko/20100101 Firefox/131.0" version="24.7.17">
  <diagram name="Page-1" id="tmsjT9xqPMpbIyg1nneR">
    <mxGraphModel dx="1658" dy="863" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="iaE10KnoszGP_xJ5_Tta-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="iaE10KnoszGP_xJ5_Tta-2" target="iaE10KnoszGP_xJ5_Tta-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480" y="380" as="targetPoint" />
            <Array as="points">
              <mxPoint x="470" y="380" />
              <mxPoint x="470" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZ1tMYdxIkBMfsbiDPBk-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="iaE10KnoszGP_xJ5_Tta-2" target="iaE10KnoszGP_xJ5_Tta-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="470" y="380" />
              <mxPoint x="470" y="425" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-2" value="Synthesis and message playing Thread" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="320" y="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="iaE10KnoszGP_xJ5_Tta-3" target="iaE10KnoszGP_xJ5_Tta-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-3" value="Network Thread" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="620" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="iaE10KnoszGP_xJ5_Tta-4" target="iaE10KnoszGP_xJ5_Tta-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="140" />
              <mxPoint x="270" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="iaE10KnoszGP_xJ5_Tta-4" target="iaE10KnoszGP_xJ5_Tta-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="140" />
              <mxPoint x="380" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="iaE10KnoszGP_xJ5_Tta-4" target="iaE10KnoszGP_xJ5_Tta-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="140" />
              <mxPoint x="490" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-4" value="Event Processing Thread" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="620" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-11" value="Events Channel" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="450" y="160" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="iaE10KnoszGP_xJ5_Tta-11" target="iaE10KnoszGP_xJ5_Tta-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="490" y="290" />
              <mxPoint x="380" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="iaE10KnoszGP_xJ5_Tta-12" target="iaE10KnoszGP_xJ5_Tta-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-12" value="Clear Events Channel" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="340" y="160" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="iaE10KnoszGP_xJ5_Tta-13" target="iaE10KnoszGP_xJ5_Tta-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="290" />
              <mxPoint x="380" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-13" value="Ongoing Message Controller Channel" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="230" y="160" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="EZ1tMYdxIkBMfsbiDPBk-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="iaE10KnoszGP_xJ5_Tta-25" target="iaE10KnoszGP_xJ5_Tta-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="590" y="310" />
              <mxPoint x="590" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-25" value="is_playing&lt;br&gt;atomic" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="500" y="280" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="iaE10KnoszGP_xJ5_Tta-31" target="iaE10KnoszGP_xJ5_Tta-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="590" y="425" />
              <mxPoint x="590" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-31" value="Loading Channel" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="495" y="390" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="iaE10KnoszGP_xJ5_Tta-35" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Threads&lt;/h1&gt;&lt;div&gt;- Network Thread: reads from the UDP port specified and sends the raw messages onto the Event Processing Thread.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Event Processing Thread: processes the event, sends multiple events to manage the state of the synthesis thread. Is a separate thread to allow for both playing audio and accepting requests &lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Synthesis and message playing Thread: Handles the piper process and audio playing. Is manipulated by the other threads. Has to be on the original thread due to memory safety issues in OMNX RUNTIME which piper uses.&lt;br&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="110" y="260" width="210" height="350" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
